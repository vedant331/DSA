<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Linear vs Binary Search — Visualization</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .checking { background-color: #facc15 !important; } /* Yellow */
    .checked { background-color: #f87171 !important; }  /* Red */
    .found { background-color: #4ade80 !important; }    /* Green */
  </style>
</head>
<body class="min-h-screen bg-gray-50 flex flex-col items-center p-6">
  <div class="w-full max-w-3xl bg-white shadow-xl rounded-2xl p-6 text-center">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">🔍 Searching Sorted List</h2>

    <!-- Input & Buttons -->
    <div class="flex flex-col sm:flex-row justify-center items-center gap-3 mb-6">
      <input id="targetInput" type="number" placeholder="Enter target" 
        class="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-400 outline-none w-48" />
      <button id="linearBtn" 
        class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg shadow">
        Linear Search
      </button>
      <button id="binaryBtn" 
        class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg shadow">
        Binary Search
      </button>
      <button id="resetBtn" 
        class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg shadow">
        Reset
      </button>
    </div>

    <!-- Status -->
    <div class="space-y-2 text-lg">
      <p>🔎 Searching For: <span id="statusTarget" class="font-semibold text-indigo-600"></span></p>
      <p>📌 Result: <span id="statusResult" class="font-semibold text-blue-600"></span></p>
      <p id="message" class="text-gray-700"></p>
    </div>

    <!-- Array Visualization -->
    <div id="arrayContainer" class="mt-6 flex flex-wrap justify-center gap-2"></div>
  </div>

  <script>
    let arr = [5,6,22,32,46,61,89,96,142,190,213,217,249,302,333,333];
    let busy = false;

    const container = document.getElementById('arrayContainer');
    const targetInput = document.getElementById('targetInput');
    const statusTarget = document.getElementById('statusTarget');
    const statusResult = document.getElementById('statusResult');
    const message = document.getElementById('message');

    function renderArray(){
      container.innerHTML = '';
      arr.forEach((v,i)=>{
        let cell = document.createElement('div');
        cell.className = 'cell flex items-center justify-center w-12 h-12 border border-gray-400 rounded-lg text-sm font-semibold bg-white transition';
        cell.id = 'cell-'+i;
        cell.textContent = v;
        container.appendChild(cell);
      });
    }

    function resetColors(){
      arr.forEach((_,i)=>{
        let el = document.getElementById('cell-'+i);
        if(el) el.className = 'cell flex items-center justify-center w-12 h-12 border border-gray-400 rounded-lg text-sm font-semibold bg-white transition';
      });
    }

    function colorCell(i, cls){
      let el = document.getElementById('cell-'+i);
      if(!el) return;
      el.className = 'cell flex items-center justify-center w-12 h-12 border border-gray-400 rounded-lg text-sm font-semibold text-black transition ' + cls;
    }

    function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }

    async function linearSearch(target){
      if(busy) return; busy = true;
      resetColors();
      statusTarget.textContent = target;
      statusResult.textContent = '';
      message.textContent = 'Starting Linear Search...';

      for(let i=0;i<arr.length;i++){
        colorCell(i,'checking');
        await sleep(300);
        if(arr[i] === target){
          colorCell(i,'found');
          statusResult.textContent = `Found at index ${i}`;
          message.textContent = 'Element Found ✅';
          busy = false; return;
        } else {
          colorCell(i,'checked');
        }
      }
      statusResult.textContent = 'Not found';
      message.textContent = 'Element Not Found ❌';
      busy = false;
    }

    async function binarySearch(target){
      if(busy) return; busy = true;
      resetColors();
      statusTarget.textContent = target;
      statusResult.textContent = '';
      message.textContent = 'Starting Binary Search...';

      let low=0, high=arr.length-1;
      while(low <= high){
        let mid = Math.floor((low+high)/2);
        colorCell(mid,'checking');
        await sleep(500);
        if(arr[mid] === target){
          colorCell(mid,'found');
          statusResult.textContent = `Found at index ${mid}`;
          message.textContent = 'Element Found ✅';
          busy = false; return;
        } else if(arr[mid] < target){
          for(let i=low;i<=mid;i++) colorCell(i,'checked');
          low = mid+1;
        } else {
          for(let i=mid;i<=high;i++) colorCell(i,'checked');
          high = mid-1;
        }
      }
      statusResult.textContent = 'Not found';
      message.textContent = 'Element Not Found ❌';
      busy = false;
    }

    document.getElementById('linearBtn').addEventListener('click', ()=>{
      let t = Number(targetInput.value);
      if(!isNaN(t)) linearSearch(t);
    });
    document.getElementById('binaryBtn').addEventListener('click', ()=>{
      let t = Number(targetInput.value);
      if(!isNaN(t)) binarySearch(t);
    });
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      busy = false; statusTarget.textContent=''; statusResult.textContent=''; message.textContent=''; renderArray();
    });

    renderArray();
  </script>
</body>
</html>
